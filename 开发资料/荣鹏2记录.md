##### 问题



##### 历史

0517

- TODO 串口
- TODO bugly
- TODO 导出

0516

- 功能 数据库model类

- 功能 定时刷新最新值
- 功能 定时刷新图表

0515

- 框架搭建





```
0xAB,0xEF,0x00,0x00,0x00,0x01,0x41,0x00,0x10
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0x00,0x00
,0xFF,0xFC,0xFF,0xFF

ab ef 00 00 00 01 41 00 10 
00 0a 
00 0b 
00 0c 
00 0d 
00 0e 
00 0f 
00 0e 
00 0d 
ff fc ff ff

ab ef 00 00 00 01 41 00 10 00 0a 00 0b 00 0c 00 0d 00 0e 00 0f 00 0e 00 0d ff fc ff ff


ab ef 00 00 00 01 41 00 10 00 0a 00 0b 00 0c 00 0d 00 0e 00 0f 00 0e 00 0d 
00 
00 0a 
00 0b 
00 0c 
ff fc ff ff
```



##### 后台多久被杀死 

0521 17:31 18MB  -->





##### 基本要求：串口

android serial port

##### 功能1：实时图表

图标 - mpandoridchart

##### 功能2：存储历史数据

数据库 - 暂定

##### 功能3：导出TXT

java.File



##### 接收服务

双击退出，关闭服务

HOME，后台服务继续



##### 默认横屏

不旋转，不销毁



##### 主流程

1. 首页初始化串口框架
2. 获取串口设备
3. 跳转选择设备，并开启服务，监听串口（不在服务中监听串口，会造成堵塞吗）
4. 串口收到数据并存储到数据库



5. 定时获取数据并更新到数据库
6. 获取最新值
7. 画折线图
8. 导出数据到txt或Excel



##### 保持实时性

方案一：下位机按时发送500ms，即使是0也发送

方案二：下位机有信号时按固定频率发送2hz，上位机更新最新值，若2个周期的时间没有新的数据上来，数据置为0，等下个数据上来，重新更新。



